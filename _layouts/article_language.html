---
layout: page
type: article_language
---

<div align="right">
  <button type="button" id="zh_btn" style="color: #0921EA">中文</button> /
  <button type="button" id="en_btn" style="color: #0921EA">English</button>
</div>

<div id="content"></div>

<script>

  document.getElementsByClassName("article__header")[0].remove()

  var en = window.localStorage && window.localStorage.getItem("homepage_language_en") === 'true'
  changeToEnglish(en)

  document.getElementById("zh_btn").addEventListener("click", () => languageClicked(false));
  document.getElementById("en_btn").addEventListener("click", () => languageClicked(true));

  function languageClicked(english) {
    changeToEnglish(english)
    if (window.localStorage) {
      window.localStorage.setItem("homepage_language_en", english)
    }
  }

  var isEnglish = -1

  function changeToEnglish(english) {
    if (isEnglish === english) {
      return
    }
    isEnglish = english

    const contentDiv = document.getElementById("content");
    const url = english ? "{{ page.en_path }}" : "{{ page.zh_path }}";

    fetch(url)
      .then(response => {
        if (!response.ok) throw new Error('Network response was not ok');
        return response.text();
      })
      .then(html => {
        contentDiv.innerHTML = html;
        if (window.localStorage) {
          window.localStorage.setItem("homepage_language_en", english);
        }
      })
      .catch(error => {
        console.error('Error loading content:', error);
        contentDiv.innerHTML = `<p>Error loading ${english ? 'English' : 'Chinese'} content.</p>`;
      });
  }

</script>
